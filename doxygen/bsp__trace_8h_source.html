<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OSS-7: Open Source Stack for DASH7 Alliance Protocol: /home/glenn/projects/oss7/stack/framework/hal/platforms/EFM32GG_STK3700/kits/common/bsp/bsp_trace.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OSS-7: Open Source Stack for DASH7 Alliance Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('bsp__trace_8h_source.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">bsp_trace.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="bsp__trace_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/**************************************************************************/</span></div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="preprocessor">#ifndef __BSP_TRACE_H</span></div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="preprocessor">#define __BSP_TRACE_H</span></div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="preprocessor">#include &quot;em_device.h&quot;</span></div><div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="preprocessor">#if (defined( BSP_ETM_TRACE ) &amp;&amp; defined( ETM_PRESENT )) || \</span></div><div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="preprocessor">     defined( GPIO_ROUTE_SWOPEN ) || \</span></div><div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="preprocessor">     defined( GPIO_ROUTEPEN_SWVPEN )</span></div><div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;<span class="preprocessor">#include &lt;stdint.h&gt;</span></div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;<span class="preprocessor">#include &lt;stdbool.h&gt;</span></div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="em__msc_8h.html">em_msc.h</a>&quot;</span></div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;<span class="preprocessor">#include &quot;traceconfig.h&quot;</span></div><div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div><div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="comment">/***************************************************************************/</span></div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="comment">/***************************************************************************/</span></div><div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="keyword">extern</span> <span class="stringliteral">&quot;C&quot;</span> {</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#if defined(BSP_ETM_TRACE) &amp;&amp; defined( ETM_PRESENT )</span></div><div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="keywordtype">void</span> BSP_TraceEtmSetup(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="preprocessor">#if defined( GPIO_ROUTE_SWOPEN ) || defined( _GPIO_ROUTEPEN_SWVPEN_MASK )</span></div><div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;<span class="keywordtype">bool</span> BSP_TraceProfilerSetup(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="keywordtype">void</span> BSP_TraceSwoSetup(<span class="keywordtype">void</span>);</div><div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;<span class="preprocessor">#define USER_PAGE    0x0FE00000UL </span><span class="comment">/* Address to flash memory */</span><span class="preprocessor"></span></div><div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;</div><div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;<span class="comment">/**************************************************************************/</span></div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;__STATIC_INLINE <span class="keywordtype">void</span> BSP_TraceProfilerEnable(<span class="keywordtype">bool</span> enable)</div><div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;{</div><div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;  uint32_t          <a class="code" href="fs_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a>;</div><div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;  <span class="keyword">volatile</span> uint32_t *userpage = (uint32_t *) USER_PAGE;</div><div class="line"><a name="l00066"></a><span class="lineno">   66</span>&#160;</div><div class="line"><a name="l00067"></a><span class="lineno">   67</span>&#160;  <span class="comment">/* Check that configuration needs to change */</span></div><div class="line"><a name="l00068"></a><span class="lineno">   68</span>&#160;  data = *userpage;</div><div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;  <span class="keywordflow">if</span> (enable)</div><div class="line"><a name="l00070"></a><span class="lineno">   70</span>&#160;  {</div><div class="line"><a name="l00071"></a><span class="lineno">   71</span>&#160;    <span class="keywordflow">if</span> (data == 0xFFFFFFFF)</div><div class="line"><a name="l00072"></a><span class="lineno">   72</span>&#160;    {</div><div class="line"><a name="l00073"></a><span class="lineno">   73</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    }</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;  }</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;  {</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;    <span class="keywordflow">if</span> (data == 0x00000000)</div><div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;    {</div><div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;      <span class="keywordflow">return</span>;</div><div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;    }</div><div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;  }</div><div class="line"><a name="l00083"></a><span class="lineno">   83</span>&#160;</div><div class="line"><a name="l00084"></a><span class="lineno">   84</span>&#160;  <span class="comment">/* Initialize MSC */</span></div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;  <a class="code" href="_changes__emlib_8txt.html#a0fe99c630af0da97075ad3fde929704d">MSC_Init</a>();</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;  <span class="comment">/* Write enable or disable trigger word into flash */</span></div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;  <span class="keywordflow">if</span> (enable)</div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;  {</div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    data = 0xFFFFFFFF;</div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    MSC_ErasePage((uint32_t *) USER_PAGE);</div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;    MSC_WriteWord((uint32_t *) USER_PAGE, (<span class="keywordtype">void</span> *) &amp;data, 4);</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;  }</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;  <span class="keywordflow">else</span></div><div class="line"><a name="l00095"></a><span class="lineno">   95</span>&#160;  {</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;    data = 0x00000000;</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    MSC_ErasePage((uint32_t *) USER_PAGE);</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    MSC_WriteWord((uint32_t *) USER_PAGE, (<span class="keywordtype">void</span> *) &amp;data, 4);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;  }</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno">  102</span>&#160;<span class="preprocessor">#ifdef __cplusplus</span></div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;}</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;<span class="preprocessor">#endif</span></div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* (defined(BSP_ETM_TRACE) &amp;&amp; defined( ETM_PRESENT )) || defined( GPIO_ROUTE_SWOPEN ) */</span><span class="preprocessor"></span></div><div class="line"><a name="l00110"></a><span class="lineno">  110</span>&#160;<span class="preprocessor">#endif  </span><span class="comment">/* __BSP_TRACE_H */</span><span class="preprocessor"></span></div><div class="ttc" id="em__msc_8h_html"><div class="ttname"><a href="em__msc_8h.html">em_msc.h</a></div><div class="ttdoc">Flash controller module (MSC) peripheral API. </div></div>
<div class="ttc" id="fs_8c_html_a43a278d13284fb3412e9eee1db1d967e"><div class="ttname"><a href="fs_8c.html#a43a278d13284fb3412e9eee1db1d967e">data</a></div><div class="ttdeci">#define data</div><div class="ttdef"><b>Definition:</b> fs.c:38</div></div>
<div class="ttc" id="_changes__emlib_8txt_html_a0fe99c630af0da97075ad3fde929704d"><div class="ttname"><a href="_changes__emlib_8txt.html#a0fe99c630af0da97075ad3fde929704d">MSC_Init</a></div><div class="ttdeci">A2 and B0 EMU_DCDCInit_TypeDef updated with more parameters EMU_DcdcLpcmpBiasMode_TypeDef is removed More assertions added to EMU_DCDCInit().-HFXO default parameters updated.-ADC defaults updated.-RMU pin mode set fixed.-Added missing define for cmuSelect_ULFRCO.-Added missing functions for handling peripheral interrupts.-Added support for VMON.4.1.0 Added const specificers to various initialization to ensure they can reside in flash instead of SRAM Bugfix in efm32_i2c keep returning i2cTransferInProgress until LESENSE_ChClk_TypeDef now contains unshifted fixed the implementation in efm32_lesense c where the bug prevented the sampleClk to be set to LESENSE clocks and continuous calibration Added Tiny Gecko support for EM4 pin retention and wake up support Added Tiny Gecko support for SPI auto TX mode on USART Added Tiny Gecko support for CACHE mesasurements for MSC module Added Tiny Gecko support for LCD DT lock not supported Added Tiny Gecko support for LESENSE module Added Tiny Gecko support for PRS input in PCNT Added Tiny Gecko support for async signals in where overlapping with Tiny Removed LPFEN LPFREQ support from DAC Fixed comments around interrupt making it clear it is bitwise logical or interrupt flags Fixed PCNT initialization for external clock making sure config is synchronized at startup to clocks Note fix only works for revC EFM32G devices Fixed efm32_cmu EFM_ASSERT statement for LEUART clock div logic was inverted Fixed PRSSEL shift value corrected Fixed CMU_ClockFreqGet for devices that do not have I2C Fixed I2C_TransferInit for devices with more than one I2C now only disables the ACMP instance by clearing the EN bit in the CTRL register Removed removed automatic added new structure member enaReq for ACMP_Init_TypeDef to fixed the EFM_ASSERT of the biasprog parameter Added default configuration macro ACMP_INIT_DEFAULT for ACMP_Init_TypeDef Fixed removed automatic added new structure member enaReq for ACMP_CapsenseInit_TypeDef to fixed the EFM_ASSERT of the biasprog parameter Changed the name of the default configuration macro for ACMP_CapsenseInit_TypeDef to ACMP_CAPSENSE_INIT_DEFAULT Added RTC_Reset and RTC_CounterReset functions for and reduces errors due to not calling MSC_Init().-Added API for controlling Cortex-M3 MPU(memory protection unit)-Adjusted bit fields to comply with latest CMSIS release</div></div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_644e041c3a6521da7b27eba0e4eb2b95.html">framework</a></li><li class="navelem"><a class="el" href="dir_8f2c340cdabd0cab4db94c39704d70a8.html">hal</a></li><li class="navelem"><a class="el" href="dir_4eb32538973cd830b42aabb7e41eb42c.html">platforms</a></li><li class="navelem"><a class="el" href="dir_a192d59b2f1f84b8afa3e24e22cb9144.html">EFM32GG_STK3700</a></li><li class="navelem"><a class="el" href="dir_0038392d4be018d55ffce0389ae10473.html">kits</a></li><li class="navelem"><a class="el" href="dir_156c47fb6d06f84a3b36f282ce438c20.html">common</a></li><li class="navelem"><a class="el" href="dir_24551ccc66523a70ec6bb1f458050a4c.html">bsp</a></li><li class="navelem"><a class="el" href="bsp__trace_8h.html">bsp_trace.h</a></li>
    <li class="footer">Generated on Mon May 2 2016 21:25:35 for OSS-7: Open Source Stack for DASH7 Alliance Protocol by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
