<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>OSS-7: Open Source Stack for DASH7 Alliance Protocol: Scheduler</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">OSS-7: Open Source Stack for DASH7 Alliance Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__scheduler.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Scheduler<div class="ingroups"><a class="el" href="group__framework.html">Framework API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Specifies the API to the priority scheduler of the framework.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga78a55c2ac757b7addb3150081812288b"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>) ()</td></tr>
<tr class="memdesc:ga78a55c2ac757b7addb3150081812288b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type definition for tasks.  <a href="#ga78a55c2ac757b7addb3150081812288b">More...</a><br /></td></tr>
<tr class="separator:ga78a55c2ac757b7addb3150081812288b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:gac36f475ca5b446f4fde4c9b90bec77c8"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom">{ <a class="el" href="group__scheduler.html#ggac36f475ca5b446f4fde4c9b90bec77c8aaa92b2d93b02a201c180b2e543795fff">MIN_PRIORITY</a> = 7, 
<a class="el" href="group__scheduler.html#ggac36f475ca5b446f4fde4c9b90bec77c8a6b8524b0a6b5872417d7d5e64a9ebf43">MAX_PRIORITY</a> = 0, 
<a class="el" href="group__scheduler.html#ggac36f475ca5b446f4fde4c9b90bec77c8add8bc66004f384697b8c9d650871898d">DEFAULT_PRIORITY</a> = MIN_PRIORITY
 }</td></tr>
<tr class="separator:gac36f475ca5b446f4fde4c9b90bec77c8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga3966b8fe70a668e43b711320d334fe58"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#ga3966b8fe70a668e43b711320d334fe58">scheduler_init</a> ()</td></tr>
<tr class="memdesc:ga3966b8fe70a668e43b711320d334fe58"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the scheduler sub system.  <a href="#ga3966b8fe70a668e43b711320d334fe58">More...</a><br /></td></tr>
<tr class="separator:ga3966b8fe70a668e43b711320d334fe58"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae57c43586d3fe3d158509b8444a9062e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#gae57c43586d3fe3d158509b8444a9062e">scheduler_run</a> ()</td></tr>
<tr class="memdesc:gae57c43586d3fe3d158509b8444a9062e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The main task loop of the scheduler.  <a href="#gae57c43586d3fe3d158509b8444a9062e">More...</a><br /></td></tr>
<tr class="separator:gae57c43586d3fe3d158509b8444a9062e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad4c0dc853bd39b7d8dafaf366b4d2cb6"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#gad4c0dc853bd39b7d8dafaf366b4d2cb6">sched_register_task</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task)</td></tr>
<tr class="memdesc:gad4c0dc853bd39b7d8dafaf366b4d2cb6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Register a task with the task scheduler.  <a href="#gad4c0dc853bd39b7d8dafaf366b4d2cb6">More...</a><br /></td></tr>
<tr class="separator:gad4c0dc853bd39b7d8dafaf366b4d2cb6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaeeb97be82fc2e73484ae1d4600e7cab8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#gaeeb97be82fc2e73484ae1d4600e7cab8">sched_post_task_prio</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task, uint8_t priority)</td></tr>
<tr class="memdesc:gaeeb97be82fc2e73484ae1d4600e7cab8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post a task with the given priority.  <a href="#gaeeb97be82fc2e73484ae1d4600e7cab8">More...</a><br /></td></tr>
<tr class="separator:gaeeb97be82fc2e73484ae1d4600e7cab8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9f7ebe2c1ec4254899a711a5e320ac5b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#ga9f7ebe2c1ec4254899a711a5e320ac5b">sched_cancel_task</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task)</td></tr>
<tr class="memdesc:ga9f7ebe2c1ec4254899a711a5e320ac5b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel an already scheduled task.  <a href="#ga9f7ebe2c1ec4254899a711a5e320ac5b">More...</a><br /></td></tr>
<tr class="separator:ga9f7ebe2c1ec4254899a711a5e320ac5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga1a9d70c3c4d844657af0cdc8f99e1d65"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__scheduler.html#ga1a9d70c3c4d844657af0cdc8f99e1d65">sched_is_scheduled</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task)</td></tr>
<tr class="memdesc:ga1a9d70c3c4d844657af0cdc8f99e1d65"><td class="mdescLeft">&#160;</td><td class="mdescRight">Check whether a task is scheduled to be executed.  <a href="#ga1a9d70c3c4d844657af0cdc8f99e1d65">More...</a><br /></td></tr>
<tr class="separator:ga1a9d70c3c4d844657af0cdc8f99e1d65"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Specifies the API to the priority scheduler of the framework. </p>
<p>TODO: add more explanations on how the scheduler works (eg FIFO, strict priority queueing), how is control is yielded to the application </p><dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'dan'+'ie'+'l.v'+'an'+'den'+'ak'+'ker'+'@u'+'ant'+'we'+'rpe'+'n.'+'be'; return false;">danie<span style="display: none;">.nosp@m.</span>l.va<span style="display: none;">.nosp@m.</span>ndena<span style="display: none;">.nosp@m.</span>kker<span style="display: none;">.nosp@m.</span>@uant<span style="display: none;">.nosp@m.</span>werp<span style="display: none;">.nosp@m.</span>en.be</a> </dd></dl>
<h2 class="groupheader">Typedef Documentation</h2>
<a class="anchor" id="ga78a55c2ac757b7addb3150081812288b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* task_t) ()</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Type definition for tasks. </p>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a class="anchor" id="gac36f475ca5b446f4fde4c9b90bec77c8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">anonymous enum</td>
        </tr>
      </table>
</div><div class="memdoc">
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a class="anchor" id="ggac36f475ca5b446f4fde4c9b90bec77c8aaa92b2d93b02a201c180b2e543795fff"></a>MIN_PRIORITY&#160;</td><td class="fielddoc">
<p>The minimum allowed priority for scheduled tasks. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac36f475ca5b446f4fde4c9b90bec77c8a6b8524b0a6b5872417d7d5e64a9ebf43"></a>MAX_PRIORITY&#160;</td><td class="fielddoc">
<p>The maximum allowed priority for scheduled tasks. </p>
</td></tr>
<tr><td class="fieldname"><a class="anchor" id="ggac36f475ca5b446f4fde4c9b90bec77c8add8bc66004f384697b8c9d650871898d"></a>DEFAULT_PRIORITY&#160;</td><td class="fielddoc">
<p>The default priority. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga9f7ebe2c1ec4254899a711a5e320ac5b"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> sched_cancel_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel an already scheduled task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to cancel</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_t SUCCESS if the task was cancelled successfully EINVAL if the task was not registered with the scheduler EALREADY if the task was not scheduled or has already been executed </dd></dl>

</div>
</div>
<a class="anchor" id="ga1a9d70c3c4d844657af0cdc8f99e1d65"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> bool sched_is_scheduled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Check whether a task is scheduled to be executed. </p>
<dl class="section return"><dt>Returns</dt><dd>bool TRUE if the task is scheduled, FALSE otherwise </dd></dl>

</div>
</div>
<a class="anchor" id="gaeeb97be82fc2e73484ae1d4600e7cab8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> sched_post_task_prio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post a task with the given priority. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be executed by the scheduler </td></tr>
    <tr><td class="paramname">priority</td><td>The priority of the task</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_t SUCCESS if the task was successfully scheduled EINVAL if the task was not registered with the scheduler ESIZE if the priority is not between MAX_PRIORITY and MIN_PRIORITY EALREADY if the task was already scheduled. If this is the case, the task will be executed but only once. </dd></dl>

</div>
</div>
<a class="anchor" id="gad4c0dc853bd39b7d8dafaf366b4d2cb6"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> sched_register_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Register a task with the task scheduler. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to register</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_t SUCCESS if the task was registered successfully ENOMEM if the task could not be registered due to memory constraints. (This problem can be alleviated by increasing the SCHEDULER_MAX_TASKS CMake parameter) EALREADY if the task was already registered </dd></dl>

</div>
</div>
<a class="anchor" id="ga3966b8fe70a668e43b711320d334fe58"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void scheduler_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the scheduler sub system. </p>
<p>This function is called while bootstrapping the framework. On no account should you call this function yourself. </p>

</div>
</div>
<a class="anchor" id="gae57c43586d3fe3d158509b8444a9062e"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void scheduler_run </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The main task loop of the scheduler. </p>
<p>This function executes the main task loop of the scheduler. It iteratively executes tasks (according to priority) and puts the MCU to sleep when there are no tasks pending. Please note that this function NEVER returns.</p>
<p>This function should be be called exactly once from the <a class="el" href="stk3700__main_8c.html#ae66f6b31b5ad750f1fe042a706a4e3d4">main()</a> function of the specific platform, after the platform and framework have been initialised. On NO ACCOUNT should this function be called by the application. </p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Jun 4 2015 21:59:50 for OSS-7: Open Source Stack for DASH7 Alliance Protocol by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.9.1 </li>
  </ul>
</div>
</body>
</html>
