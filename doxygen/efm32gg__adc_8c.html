<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>OSS-7: Open Source Stack for DASH7 Alliance Protocol: /home/glenn/projects/oss7/stack/framework/hal/chips/efm32gg/efm32gg_adc.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OSS-7: Open Source Stack for DASH7 Alliance Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('efm32gg__adc_8c.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">efm32gg_adc.c File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;stdbool.h&gt;</code><br />
<code>#include &quot;<a class="el" href="hwadc_8h_source.html">hwadc.h</a>&quot;</code><br />
<code>#include &lt;assert.h&gt;</code><br />
<code>#include &quot;<a class="el" href="em__adc_8h_source.html">em_adc.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="em__cmu_8h_source.html">em_cmu.h</a>&quot;</code><br />
<code>#include &quot;platform.h&quot;</code><br />
<code>#include &quot;<a class="el" href="log_8h_source.html">log.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a7c027af9bd518c6c1597bfc327f58341"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="efm32gg__adc_8c.html#a7c027af9bd518c6c1597bfc327f58341">ADC_Calibration</a> (ADC_TypeDef *adc, ADC_Ref_TypeDef ref)</td></tr>
<tr class="memdesc:a7c027af9bd518c6c1597bfc327f58341"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrate offset and gain for the specified reference. Supports currently only single ended gain calibration. Could easily be expanded to support differential gain calibration.  <a href="#a7c027af9bd518c6c1597bfc327f58341">More...</a><br /></td></tr>
<tr class="separator:a7c027af9bd518c6c1597bfc327f58341"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10f34f828f72aea568297480add7a512"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga10f34f828f72aea568297480add7a512">adc_calibrate</a> ()</td></tr>
<tr class="memdesc:ga10f34f828f72aea568297480add7a512"><td class="mdescLeft">&#160;</td><td class="mdescRight">Calibrates the ADC.  <a href="group___a_d_c.html#ga10f34f828f72aea568297480add7a512">More...</a><br /></td></tr>
<tr class="separator:ga10f34f828f72aea568297480add7a512"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad60a716673da829df81f21f02a99d169"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gad60a716673da829df81f21f02a99d169">adc_init</a> (<a class="el" href="group___a_d_c.html#ga1791488ae818871ec6dbc01921d0dc8c">ADC_Reference</a> reference, <a class="el" href="group___a_d_c.html#ga2d56278915683d00a45b9b1ede13c307">ADC_Input</a> input, uint32_t adc_frequency)</td></tr>
<tr class="memdesc:gad60a716673da829df81f21f02a99d169"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialises the ADC.  <a href="group___a_d_c.html#gad60a716673da829df81f21f02a99d169">More...</a><br /></td></tr>
<tr class="separator:gad60a716673da829df81f21f02a99d169"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4e7f8736c9904fef0c02805c61ef5f9"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gaf4e7f8736c9904fef0c02805c61ef5f9">adc_start</a> ()</td></tr>
<tr class="memdesc:gaf4e7f8736c9904fef0c02805c61ef5f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a single ADC measurements.  <a href="group___a_d_c.html#gaf4e7f8736c9904fef0c02805c61ef5f9">More...</a><br /></td></tr>
<tr class="separator:gaf4e7f8736c9904fef0c02805c61ef5f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga829952f3291cc0a0f5cf92fb43697c0a"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga829952f3291cc0a0f5cf92fb43697c0a">adc_get_value</a> ()</td></tr>
<tr class="memdesc:ga829952f3291cc0a0f5cf92fb43697c0a"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the ADC value.  <a href="group___a_d_c.html#ga829952f3291cc0a0f5cf92fb43697c0a">More...</a><br /></td></tr>
<tr class="separator:ga829952f3291cc0a0f5cf92fb43697c0a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gad34148ea21cc1945849acc6f1d751995"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#gad34148ea21cc1945849acc6f1d751995">adc_read_single</a> (void)</td></tr>
<tr class="memdesc:gad34148ea21cc1945849acc6f1d751995"><td class="mdescLeft">&#160;</td><td class="mdescRight">Starts a single ADC measurement and gets the value.  <a href="group___a_d_c.html#gad34148ea21cc1945849acc6f1d751995">More...</a><br /></td></tr>
<tr class="separator:gad34148ea21cc1945849acc6f1d751995"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga298654b9377ffcf72ac54f085a20e223"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga298654b9377ffcf72ac54f085a20e223">adc_ready</a> ()</td></tr>
<tr class="memdesc:ga298654b9377ffcf72ac54f085a20e223"><td class="mdescLeft">&#160;</td><td class="mdescRight">Checks ADC status flag.  <a href="group___a_d_c.html#ga298654b9377ffcf72ac54f085a20e223">More...</a><br /></td></tr>
<tr class="separator:ga298654b9377ffcf72ac54f085a20e223"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga66fad262cfee6cadec5a8f5d2731772e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___a_d_c.html#ga66fad262cfee6cadec5a8f5d2731772e">adc_clear_interrupt</a> ()</td></tr>
<tr class="memdesc:ga66fad262cfee6cadec5a8f5d2731772e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the ADC interrupt flag.  <a href="group___a_d_c.html#ga66fad262cfee6cadec5a8f5d2731772e">More...</a><br /></td></tr>
<tr class="separator:ga66fad262cfee6cadec5a8f5d2731772e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'maa'+'rt'+'en.'+'we'+'yn@'+'ua'+'ntw'+'er'+'pen'+'.b'+'e'; return false;">maart<span style="display: none;">.nosp@m.</span>en.w<span style="display: none;">.nosp@m.</span>eyn@u<span style="display: none;">.nosp@m.</span>antw<span style="display: none;">.nosp@m.</span>erpen<span style="display: none;">.nosp@m.</span>.be</a> </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a7c027af9bd518c6c1597bfc327f58341"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ADC_Calibration </td>
          <td>(</td>
          <td class="paramtype">ADC_TypeDef *&#160;</td>
          <td class="paramname"><em>adc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">ADC_Ref_TypeDef&#160;</td>
          <td class="paramname"><em>ref</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Calibrate offset and gain for the specified reference. Supports currently only single ended gain calibration. Could easily be expanded to support differential gain calibration. </p>
<p>The offset calibration routine measures 0 V with the ADC, and adjust the calibration register until the converted value equals 0. The gain calibration routine needs an external reference voltage equal to the top value for the selected reference. For example if the 2.5 V reference is to be calibrated, the external supply must also equal 2.5V.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">adc</td><td>Pointer to ADC peripheral register block.</td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">ref</td><td>Reference used during calibration. Can be both external and internal references.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The final value of the calibration register, note that the calibration register gets updated with this value during the calibration. No need to load the calibration values after the function returns. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_644e041c3a6521da7b27eba0e4eb2b95.html">framework</a></li><li class="navelem"><a class="el" href="dir_8f2c340cdabd0cab4db94c39704d70a8.html">hal</a></li><li class="navelem"><a class="el" href="dir_e53dcac4adbcec177c678c0d8c8c3e7c.html">chips</a></li><li class="navelem"><a class="el" href="dir_8b9647ac80bab5b612e6e51a18f43f10.html">efm32gg</a></li><li class="navelem"><a class="el" href="efm32gg__adc_8c.html">efm32gg_adc.c</a></li>
    <li class="footer">Generated on Fri Feb 3 2017 13:01:25 for OSS-7: Open Source Stack for DASH7 Alliance Protocol by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.11 </li>
  </ul>
</div>
</body>
</html>
