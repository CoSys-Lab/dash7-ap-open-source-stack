<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>OSS-7: Open Source Stack for DASH7 Alliance Protocol: Framework Timer</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">OSS-7: Open Source Stack for DASH7 Alliance Protocol
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('group__frameworktimer.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#define-members">Macros</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Framework Timer<div class="ingroups"><a class="el" href="group__framework.html">Framework API</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>The framework timer provides an abstraction of the low-level hardware timers provided by the HAL. The framework timer interface builds on the low-level HAL timer interface to provide more advanced capabilities.  
<a href="#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structtimer__event.html">timer_event</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="define-members"></a>
Macros</h2></td></tr>
<tr class="memitem:gaaa7ec59363ab0b5be1aa8290a1f19fa5"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#gaaa7ec59363ab0b5be1aa8290a1f19fa5">___CONCAT2</a>(a,  b)&#160;&#160;&#160;a ## b</td></tr>
<tr class="separator:gaaa7ec59363ab0b5be1aa8290a1f19fa5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafdc18b67339e9812f5b20d29c01281e1"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#gafdc18b67339e9812f5b20d29c01281e1">___CONCAT</a>(a,  b)&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gaaa7ec59363ab0b5be1aa8290a1f19fa5">___CONCAT2</a>(a,b)</td></tr>
<tr class="separator:gafdc18b67339e9812f5b20d29c01281e1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga153b21cab235735bed3752c7735cac4e"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga153b21cab235735bed3752c7735cac4e">TIMER_RESOLUTION</a>&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gafdc18b67339e9812f5b20d29c01281e1">___CONCAT</a>(HWTIMER_FREQ_, FRAMEWORK_TIMER_RESOLUTION)</td></tr>
<tr class="memdesc:ga153b21cab235735bed3752c7735cac4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">The frequency of the hardware timer used to power the framework timer.  <a href="#ga153b21cab235735bed3752c7735cac4e">More...</a><br /></td></tr>
<tr class="separator:ga153b21cab235735bed3752c7735cac4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3790164b4b6781f5988faf9c05d8eb1d"><td class="memItemLeft" align="right" valign="top">#define&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga3790164b4b6781f5988faf9c05d8eb1d">TIMER_TICKS_PER_SEC</a>&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gafdc18b67339e9812f5b20d29c01281e1">___CONCAT</a>(HWTIMER_TICKS_, FRAMEWORK_TIMER_RESOLUTION)</td></tr>
<tr class="memdesc:ga3790164b4b6781f5988faf9c05d8eb1d"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of ticks the framework timer generates every second.  <a href="#ga3790164b4b6781f5988faf9c05d8eb1d">More...</a><br /></td></tr>
<tr class="separator:ga3790164b4b6781f5988faf9c05d8eb1d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ga77fd8f9362e4f9ee1022170189802daf"><td class="memItemLeft" align="right" valign="top">typedef uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a></td></tr>
<tr class="separator:ga77fd8f9362e4f9ee1022170189802daf"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gaf61ac5ed52240aa92e7bc59768158fcf"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#gaf61ac5ed52240aa92e7bc59768158fcf">timer_init</a> ()</td></tr>
<tr class="memdesc:gaf61ac5ed52240aa92e7bc59768158fcf"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialise the timer sub system.  <a href="#gaf61ac5ed52240aa92e7bc59768158fcf">More...</a><br /></td></tr>
<tr class="separator:gaf61ac5ed52240aa92e7bc59768158fcf"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf3aebd60468217e2d12c51e42dfe994b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#gaf3aebd60468217e2d12c51e42dfe994b">timer_get_counter_value</a> ()</td></tr>
<tr class="memdesc:gaf3aebd60468217e2d12c51e42dfe994b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Retrieve the current counter value of the timer.  <a href="#gaf3aebd60468217e2d12c51e42dfe994b">More...</a><br /></td></tr>
<tr class="separator:gaf3aebd60468217e2d12c51e42dfe994b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga83ca51669c9c4204f4c79c23fbc56183"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga83ca51669c9c4204f4c79c23fbc56183">timer_post_task_prio</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task, <a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a> time, uint8_t priority)</td></tr>
<tr class="memdesc:ga83ca51669c9c4204f4c79c23fbc56183"><td class="mdescLeft">&#160;</td><td class="mdescRight">Post a task to be scheduled at a given time with a given priority.  <a href="#ga83ca51669c9c4204f4c79c23fbc56183">More...</a><br /></td></tr>
<tr class="separator:ga83ca51669c9c4204f4c79c23fbc56183"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga9b7e8e64213b01afc03545c9c7dab08e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga9b7e8e64213b01afc03545c9c7dab08e">timer_cancel_task</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task)</td></tr>
<tr class="memdesc:ga9b7e8e64213b01afc03545c9c7dab08e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Cancel a previously scheduled task.  <a href="#ga9b7e8e64213b01afc03545c9c7dab08e">More...</a><br /></td></tr>
<tr class="separator:ga9b7e8e64213b01afc03545c9c7dab08e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga6294eacf0b07f6f37e0816be0ebfaf8f"><td class="memItemLeft" align="right" valign="top"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__frameworktimer.html#ga6294eacf0b07f6f37e0816be0ebfaf8f">timer_is_task_scheduled</a> (<a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a> task)</td></tr>
<tr class="memdesc:ga6294eacf0b07f6f37e0816be0ebfaf8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">check if a task is already scheduled with a delay  <a href="#ga6294eacf0b07f6f37e0816be0ebfaf8f">More...</a><br /></td></tr>
<tr class="separator:ga6294eacf0b07f6f37e0816be0ebfaf8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>The framework timer provides an abstraction of the low-level hardware timers provided by the HAL. The framework timer interface builds on the low-level HAL timer interface to provide more advanced capabilities. </p>
<p>The major differences with the HAL timers are:</p><ul>
<li>32-bit counter instead of a 16-bit counter</li>
<li>Multiple timer events can be scheduled simultaneously</li>
<li>Events are executed by the scheduler in the main task loop and NOT during the timer interrupt</li>
<li>Support for multiple priorities</li>
</ul>
<p>The framework timer supports the same timer resolutions supported by the hal. By default a binary millisecond timer interval is used (HWTIMER_FREQ_MS), but this can be changed by setting the FRAMEWORK_TIMER_RESOLUTION property in CMake.</p>
<p>The 32-bit counter of the timer (see timer_get_counter()) counts from 0 to MAX_INT and then loops back to zero. Depending on the selected frequency this yield a loop time between 1,5 days (32KHz timer) and 48 days (1MS ticks). <a class="el" href="group__frameworktimer.html#gaf3aebd60468217e2d12c51e42dfe994b" title="Retrieve the current counter value of the timer. ">timer_get_counter_value()</a> therefore always returns the time since system bootup (or since the last overflow)</p>
<dl class="section author"><dt>Author</dt><dd><a href="#" onclick="location.href='mai'+'lto:'+'maa'+'rt'+'en.'+'we'+'yn@'+'ua'+'ntw'+'er'+'pen'+'.b'+'e'; return false;">maart<span style="display: none;">.nosp@m.</span>en.w<span style="display: none;">.nosp@m.</span>eyn@u<span style="display: none;">.nosp@m.</span>antw<span style="display: none;">.nosp@m.</span>erpen<span style="display: none;">.nosp@m.</span>.be</a> </dd>
<dd>
<a href="#" onclick="location.href='mai'+'lto:'+'dan'+'ie'+'l.v'+'an'+'den'+'ak'+'ker'+'@u'+'ant'+'we'+'rpe'+'n.'+'be'; return false;">danie<span style="display: none;">.nosp@m.</span>l.va<span style="display: none;">.nosp@m.</span>ndena<span style="display: none;">.nosp@m.</span>kker<span style="display: none;">.nosp@m.</span>@uant<span style="display: none;">.nosp@m.</span>werp<span style="display: none;">.nosp@m.</span>en.be</a> </dd></dl>
<h2 class="groupheader">Macro Definition Documentation</h2>
<a id="gafdc18b67339e9812f5b20d29c01281e1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafdc18b67339e9812f5b20d29c01281e1">&#9670;&nbsp;</a></span>___CONCAT</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ___CONCAT</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gaaa7ec59363ab0b5be1aa8290a1f19fa5">___CONCAT2</a>(a,b)</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="gaaa7ec59363ab0b5be1aa8290a1f19fa5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaaa7ec59363ab0b5be1aa8290a1f19fa5">&#9670;&nbsp;</a></span>___CONCAT2</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ___CONCAT2</td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">a, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname">b&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td>&#160;&#160;&#160;a ## b</td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<a id="ga153b21cab235735bed3752c7735cac4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga153b21cab235735bed3752c7735cac4e">&#9670;&nbsp;</a></span>TIMER_RESOLUTION</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_RESOLUTION&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gafdc18b67339e9812f5b20d29c01281e1">___CONCAT</a>(HWTIMER_FREQ_, FRAMEWORK_TIMER_RESOLUTION)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The frequency of the hardware timer used to power the framework timer. </p>
<p>This value can be configured by setting the 'FRAMEWORK_TIMER_RESOLUTION' CMake property </p>

</div>
</div>
<a id="ga3790164b4b6781f5988faf9c05d8eb1d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3790164b4b6781f5988faf9c05d8eb1d">&#9670;&nbsp;</a></span>TIMER_TICKS_PER_SEC</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TIMER_TICKS_PER_SEC&#160;&#160;&#160;<a class="el" href="group__frameworktimer.html#gafdc18b67339e9812f5b20d29c01281e1">___CONCAT</a>(HWTIMER_TICKS_, FRAMEWORK_TIMER_RESOLUTION)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>The number of ticks the framework timer generates every second. </p>

</div>
</div>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="ga77fd8f9362e4f9ee1022170189802daf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga77fd8f9362e4f9ee1022170189802daf">&#9670;&nbsp;</a></span>timer_tick_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef uint32_t <a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga9b7e8e64213b01afc03545c9c7dab08e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga9b7e8e64213b01afc03545c9c7dab08e">&#9670;&nbsp;</a></span>timer_cancel_task()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> timer_cancel_task </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Cancel a previously scheduled task. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to cancel.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_t SUCCESS if the task was successfully canceled EALREADY if the task was not scheduled and therefore not canceled </dd></dl>

</div>
</div>
<a id="gaf3aebd60468217e2d12c51e42dfe994b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf3aebd60468217e2d12c51e42dfe994b">&#9670;&nbsp;</a></span>timer_get_counter_value()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a> timer_get_counter_value </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Retrieve the current counter value of the timer. </p>
<p>The returned counter value is the number of clock ticks since the device booted or since the last overflow. (As discussed above an overflow takes between 1,5 days and 48 days to occur depending on the frequence of the timer)</p>
<dl class="section return"><dt>Returns</dt><dd>timer_tick_t The current value of the counter. </dd></dl>

</div>
</div>
<a id="gaf61ac5ed52240aa92e7bc59768158fcf"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf61ac5ed52240aa92e7bc59768158fcf">&#9670;&nbsp;</a></span>timer_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> void timer_init </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialise the timer sub system. </p>

</div>
</div>
<a id="ga6294eacf0b07f6f37e0816be0ebfaf8f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga6294eacf0b07f6f37e0816be0ebfaf8f">&#9670;&nbsp;</a></span>timer_is_task_scheduled()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> bool timer_is_task_scheduled </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>check if a task is already scheduled with a delay </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to verify.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>bool true if the task is present in the timer event queue false if the task was not scheduled </dd></dl>

</div>
</div>
<a id="ga83ca51669c9c4204f4c79c23fbc56183"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga83ca51669c9c4204f4c79c23fbc56183">&#9670;&nbsp;</a></span>timer_post_task_prio()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="link__c_8h.html#ad7a35fa85166c1d1839000ac10353068">__LINK_C</a> <a class="el" href="types_8h.html#a9ad6b2dc3cbff040775e79656fe8e1a3">error_t</a> timer_post_task_prio </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__scheduler.html#ga78a55c2ac757b7addb3150081812288b">task_t</a>&#160;</td>
          <td class="paramname"><em>task</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="group__frameworktimer.html#ga77fd8f9362e4f9ee1022170189802daf">timer_tick_t</a>&#160;</td>
          <td class="paramname"><em>time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&#160;</td>
          <td class="paramname"><em>priority</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Post a task to be scheduled at a given time with a given priority. </p>
<p>The time parameter denotes the clock tick at which the task is to be scheduled with the task scheduler. time may be a value that is in the future or in the past wrt. the current value of '<a class="el" href="group__frameworktimer.html#gaf3aebd60468217e2d12c51e42dfe994b" title="Retrieve the current counter value of the timer. ">timer_get_counter_value()</a>' (denoted as cur_time). If time denotes a clock tick in the future, the framework timer delays scheduling the task until cur_time == time. If time denotes a clock tick in the past, the task is scheduled immediately. Depending on the frequency of the timer, the priority of the task and the amount of tasks currently scheduled, another few clock ticks may pass before the task is actually executed. (If you need more precise timing, use a hardware timer)</p>
<p>To ensure proper operation of the framework timer in the event of an overflow, time is interpreted in a circular fashion wrt. the current counter value. A specified time is deemed to be in the past when, using SIGNED integer arithmetic: 'time - cur_time &lt; 0'. This equates to checking whether time &lt; cur_time, except that it also works when the timer is about to overflow.</p>
<p>Please note that posting a task with the framework timers does NOT automatically register it with the scheduler. If the posted task is not registered with the scheduler, the task will not be executed.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">task</td><td>The task to be scheduled at the given time. </td></tr>
    <tr><td class="paramname">time</td><td>The time at which to schedule the task for execution. </td></tr>
    <tr><td class="paramname">priority</td><td>The priority with which the task should be executed</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>error_t SUCCESS if the task was posted successfully ENOMEM if the task could not be posted there are already too many tasks waiting for execution. EALREADY if the task was already scheduled. EINVAL if an invalid priority was specified. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Fri Jun 2 2017 10:53:49 for OSS-7: Open Source Stack for DASH7 Alliance Protocol by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
